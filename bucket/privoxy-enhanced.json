{
    "version": "3.0.34-stable_y1",
    "description": "a non-caching web proxy with advanced filtering capabilities - enhanced patch version",
    "homepage": "https://github.com/yak1ex/privoxy-enhanced/",
    "license": "GPL-2.0-or-later",
    "notes": "Assuming our own configuration is separeted as 'my.action' and 'my.fitler'.",
    "url": "https://github.com/yak1ex/privoxy-enhanced/releases/download/privoxy-3.0.34-stable_y1/privoxy-3.0.34-stable_y1.zip",
    "hash": "1a4b91f7b8374a3ab1bdc3952404592662fe14421e6d62d8a62515156fda53e6",
    "extract_dir": "privoxy-3.0.34-stable_y1",
    "pre_install": [
        "'my.action', 'my.filter' | ForEach-Object {",
        "    if (-not (Test-Path \"$persist_dir\\$_\")) { New-Item \"$dir\\$_\" | Out-Null }",
        "}"
    ],
    "post_install": [
        "'config.txt', 'default.action', 'default.filter', 'match-all.action', 'trust.txt', 'user.action', 'user.filter' | ForEach-Object {",
        "    if ((Get-Content $dir\\$_ -Raw) -eq (Get-Content $dir\\$_.original -Raw)) {",
        "        Remove-Item $dir\\$_.original",
        "    } else {",
        "        Write-Host -ForegroundColor DarkYellow \"Distributed '$_', stored as '$_.original', is not matched with the persisted file, you may need to merge with '$_'.\"",
        "    }",
        "}"
    ],
    "bin": "privoxy.exe",
    "persist": [
        "config.txt",
        "default.action",
        "default.filter",
        "match-all.action",
        "my.action",
        "my.filter",
        "trust.txt",
        "user.action",
        "user.filter"
    ],
    "checkver": {
        "regex": "/releases/tag/privoxy-([-\\d._a-z]+)",
        "github": "https://github.com/yak1ex/privoxy-enhanced/"
    },
    "autoupdate": {
        "url": "https://github.com/yak1ex/privoxy-enhanced/releases/download/privoxy-$version/privoxy-$version.zip",
        "extract_dir": "privoxy-$version"
    }
}
